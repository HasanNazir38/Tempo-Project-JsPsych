{"version":3,"file":"index.browser.min.js","names":["_shifter","require","Object","defineProperty","exports","value","jsPsychTempoChanger","_typeof","a","Symbol","iterator","constructor","prototype","_classCallCheck","b","TypeError","_defineProperties","c","d","length","enumerable","configurable","writable","_toPropertyKey","key","_createClass","_toPrimitive","toPrimitive","call","String","Number","jspsych","info","name","parameters","stimulus","type","ParameterType","AUDIO","default","startTempo","INT","changeRate","jitter","joyParameters","KEYS","internalFillColor","externalStrokeColor","precision","title","STR","prompt","TempoChangerPlugin","jsPsych","trial","display_element","createPitchShifter","buffer","shifter","off","PitchShifter","context","marginChanger","tempo","pitch","on","detail","playing","storeTempoChange","changeTempo","t","Math","floor","n","random","ran","margin","console","log","trueTempo","endTrial","innerHTML","trial_data","tempoData","tempoDataPoints","endTempo","finishTrial","stamp","getTimeStamp","toFixed","digits","push","currTime","Date","getTime","startTime","tempoStick","currY","rate","updateTempoStick","update","setInterval","Joy","GetY","stopStick","clearInterval","joyStick","removeEventListener","l","html","querySelector","next","JoyStick","pluginAPI","audioContext","getAudioBuffer","then","audio","currentTime","play","createBufferSource","connect","destination","err","error","concat","addEventListener","startTempoStick","jsPsychModule"],"sources":["../index.js"],"sourcesContent":["\nimport { PitchShifter } from \"/plugin-tempochanger/shifter.js\";\n\nexport var jsPsychTempoChanger = (function (jspsych) { // will need an export thnig if you go that route\n  \"use strict\";\n\n  const info = {\n    name: \"Tempo-Changer\",\n    parameters: {\n      // The audio file for the specific trial\n      stimulus: {\n        type: jspsych.ParameterType.AUDIO,\n        default: undefined,\n      },\n      // Start tempo (in ms)\n      startTempo: {\n        type: jspsych.ParameterType.INT,\n        default: 800, // 75 bpm\n      },\n      // The factor at which the tempo changes\n      changeRate : {\n        type: jspsych.ParameterType.INT,\n        default: 0.02,\n      },\n      // Margin for the start tempo\n      jitter: {\n        type: jspsych.ParameterType.INT,\n        default: 10,\n      },\n      // Parameters for drawing the joystick\n      joyParameters : {\n        type: jspsych.ParameterType.KEYS,\n        default: { \"internalFillColor\": \"#d41313\", \"externalStrokeColor\": \"#d41313\"},\n      },\n      // Number of fractional digits in the data\n      precision : {\n        type: jspsych.ParameterType.INT,\n        default: 2,\n      },\n      // Title text at the top of the page\n      title : {\n        type: jspsych.ParameterType.STR,\n        default: null,\n      },\n      // Text above the Joystick Box\n      prompt : {\n        type: jspsych.ParameterType.STR,\n        default: \"Use the joystick to adjust tempo\",\n      },\n      // maybe add something for experiment block, trial, id, etc so that the output file looks like how it does before\n    },\n  };\n\n  /**\n   * **PLUGIN-NAME**\n   *\n   * SHORT PLUGIN DESCRIPTION\n   *\n   * @author HASAN NAZIR\n   * @see {@link https://DOCUMENTATION_URL DOCUMENTATION LINK TEXT}\n   */\n  class TempoChangerPlugin {\n    constructor(jsPsych) {\n      this.jsPsych = jsPsych;\n    }\n    trial(display_element, trial) {\n\n      // Set up the page participant controls\n      var html = \n        '<div id=\"experimentContainer\" class=\"container\">' +\n          '<div id=\"joyBox\" class=\"container\">' +\n          '<div id=\"pointerUp\" class=\"pointer\">' + \"</div>\" + \n          '<div id=\"joyDiv\" class=\"joyStick\">' + \"</div>\" +\n          '<div id=\"pointerDown\" class=\"pointer\">' + \"</div>\" + \n          '<div id=\"nextButton\" class=\"nextButton\">' + \"</div>\" +\n          \"</div>\" +\n        \"</div>\";\n\n      if (trial.prompt !== null) {\n        html = '<p>' + trial.prompt + \"</p>\" + html;\n      }\n      if (trial.title !== null) {\n        html = '<h1>' + trial.title + \"</h1>\" + html;\n      }\n      display_element.innerHTML = html;\n\n      // Finds the joystick and next button\n      const joyStick = display_element.querySelector(\".joyStick\");\n      const next = display_element.querySelector(\".nextButton\");\n\n      // Set up the joystick\n      var Joy = new JoyStick('joyDiv', trial.joyParameters);\n      \n      //Load and play audio\n      var context = this.jsPsych.pluginAPI.audioContext();\n      console.log(context);\n\n      this.jsPsych.pluginAPI\n      .getAudioBuffer(trial.stimulus)\n      .then((buffer) => {\n      if (context !== null) {\n        context.createBufferSource();\n          //this.audio = context.createBufferSource();\n          // this.audio.buffer = buffer;\n          // this.audio.loop = true;\n         // console.log(this.audio);\n          //this.audio.connect(context.destination);\n          createPitchShifter(buffer);\n          shifter.connect(context.destination);//not looping!!!!!\n      }\n     else {\n      // this will only run if web audio is not being used, which won't let the pitch shifting work\n          console.log(\"this should not be running :'( \");\n          this.audio = buffer;\n          this.audio.currentTime = 0;\n          this.audio.play();\n          // throw an error that says \"web audio not utilized\" or something\n      }\n  })\n      .catch((err) => {\n      console.error(`Failed to load audio file \"${trial.stimulus}\"`);\n      console.error(err);\n  });\n\n////////////////////  Variables and Constants\n\n      const changeRate = trial.changeRate;                      \n      const updateInterval = 500;                   // How often the update set interval thing runs\n      const margin = trial.jitter;                  // Percentage of variability of the starting tempo (aka Jitter)\n      const digits = trial.precision;               // Number of digits to round data to\n      const startTime = new Date().getTime();       // The time at which the trial starts in ms\n      var trueTempo = trial.startTempo;             // True tempo of the audio file in ms\n      var tempo = 100;                              // Tempo of the audio file as a percentage\n      var shifter;                                  // Becomes the PitchShifter variable\n      var playing = false;                          // Boolean to indicate audio playing\n      var update;                                   // Used to update the Y value of the joystick with pressed                    \n      var tempoDataPoints = [];                     // Data array with tempo at timestamp in seconds\n\n//////////////// FUNCTIONS\n\n//Key Component Fns//\n\n      function createPitchShifter(buffer) {\n        if (shifter) {\n          shifter.off(); // remove any current listeners\n        }\n        shifter = new PitchShifter(context, buffer, 1024); \n        marginChanger();\n        shifter.tempo = tempo/100;\n        shifter.pitch = 1;\n        shifter.on('play', (detail) => {\n          playing = true;\n      });\n      storeTempoChange(tempo);\n      }\n\n      // Function to change the tempo of the audio\n      // takes an int representing the new tempo of the audio as a percentage\n      function changeTempo(t) { \n        shifter.tempo = t/100;\n        shifter.pitch = 1;     // ensures the pitch stays the same after changing tempo\n      }\n\n      // Function to randomly add or subtract a percentage from the tempo based on the \"margin\" const\n      function marginChanger() {\n        let n = Math.floor(Math.random() * 2) + 1;\n        let ran = (Math.random() * margin)\n        console.log(n);\n        switch (n) {\n            case 1:\n                tempo += ran;\n                trueTempo += ran;\n            case 2:\n                tempo -= ran;\n                trueTempo -= ran;\n        }\n      }\n\n// Data handling Fns //\n\n      // Runs when the next button is pressed, ending the trial\n      //    --this should maybe pass on the audio tempo or something? for the tap task\n      function endTrial() {\n        display_element.innerHTML = \"\";\n        playing = false;\n        var trial_data = {\n          stimulus: trial.stimulus, \n          tempoData: tempoDataPoints, \n          startTempo: trueTempo,\n          endTempo: tempo,\n          // might need to add block, stim#, and trial#, could be done in experiment js\n        };\n        this.jsPsych.finishTrial(trial_data); //not working for some reason\n      }\n\n      // Pushes the tempo change at its time stamp to the data array\n      function storeTempoChange(t) {\n        let stamp = getTimeStamp().toFixed(digits); \n        t = t.toFixed(digits);\n        tempoDataPoints.push({t, stamp});\n      }\n\n      // Finds the current time elapsed from the beginning of the trial and converts it to seconds\n      function getTimeStamp() {\n        let currTime = new Date().getTime() - startTime;\n        return currTime/1000; \n      }\n\n//Joystick Reacting Fns\n\njoyStick.addEventListener(\"mousedown\", startTempoStick);\nnext.addEventListener(\"click\", endTrial);\n\n      // Reads the joystick position and adjusts tempo\n      function tempoStick(currY) {\n        var rate = currY * changeRate;\n        if (tempo < 1) {\n            tempo = 1;\n            console.log(\"Tempo at Minimum\");\n        } else {\n            tempo += rate;\n            if (rate < 0) {\n                console.log(\"Decreasing Tempo\");\n            } else {\n                console.log(\"Increasing Tempo\");\n            }\n        }\n        storeTempoChange(tempo);\n        changeTempo(tempo);\n      }\n\n      // Fn that reads when the stick is pressed and begins the tempo changing\n      function startTempoStick() {\n        console.log(\"stick pressed\");\n        joyStick.addEventListener(\"mousemove\", updateTempoStick);\n        joyStick.addEventListener(\"mouseup\", stopStick);\n      }\n      \n      // Fn that continuously updates the y value of the stick while stick is pressed\n      function updateTempoStick() {\n        update = setInterval(tempoStick(Joy.GetY()), updateInterval);\n      }\n\n      // Fn that reads when the joystick is no longer being used\n      function stopStick() {\n        clearInterval(update);\n        joyStick.removeEventListener(\"mouseup\", stopStick);\n        joyStick.removeEventListener(\"mousemove\", updateTempoStick);\n        console.log(\"stick unpressed\");\n        console.log(tempoDataPoints); //!!! temp\n      }\n\n\n\n// Data Handling\n      // var trial_data = {\n      //   stimulus: trial.stimulus, \n      //   tempoData: tempoDataPoints, \n      //   startTempo: trueTempo,\n      //   endTempo: tempo,\n      // };\n      //this.jsPsych.finishTrial(trial_data);\n    }\n  }\n  TempoChangerPlugin.info = info;\n\n  return TempoChangerPlugin;\n})(jsPsychModule);"],"mappings":"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"}